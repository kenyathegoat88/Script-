local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

local ScreenGui = Instance.new("ScreenGui", PlayerGui)
ScreenGui.Name = "TridenteKT7_UI"
ScreenGui.ResetOnSpawn = false

local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 300, 0, 320)
Frame.Position = UDim2.new(0.5, -150, 0.5, -160)
Frame.BackgroundColor3 = Color3.fromRGB(245, 245, 245)
Frame.BackgroundTransparency = 0.1
Frame.BorderSizePixel = 0
Instance.new("UICorner", Frame).CornerRadius = UDim.new(0, 10)

local Title = Instance.new("TextLabel", Frame)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundTransparency = 1
Title.Text = "Tridente KT7"
Title.Font = Enum.Font.GothamBold
Title.TextSize = 22
Title.TextColor3 = Color3.fromRGB(30, 30, 30)

local Reach = Instance.new("TextBox", Frame)
Reach.PlaceholderText = "Reach (1-50)"
Reach.Position = UDim2.new(0.1, 0, 0, 50)
Reach.Size = UDim2.new(0.8, 0, 0, 30)
Reach.Font = Enum.Font.Gotham
Reach.TextSize = 18
Reach.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
Reach.TextColor3 = Color3.fromRGB(0, 0, 0)
Instance.new("UICorner", Reach).CornerRadius = UDim.new(0, 6)

local ApplyReachBtn = Instance.new("TextButton", Frame)
ApplyReachBtn.Text = "Aplicar Reach"
ApplyReachBtn.Position = UDim2.new(0.1, 0, 0, 90)
ApplyReachBtn.Size = UDim2.new(0.8, 0, 0, 30)
ApplyReachBtn.Font = Enum.Font.GothamBold
ApplyReachBtn.TextSize = 18
ApplyReachBtn.BackgroundColor3 = Color3.fromRGB(50, 150, 250)
ApplyReachBtn.TextColor3 = Color3.new(1, 1, 1)
Instance.new("UICorner", ApplyReachBtn).CornerRadius = UDim.new(0, 6)

-- Variables para el reach
local reachValue = 5 -- valor por defecto

-- Actualizar reach
ApplyReachBtn.MouseButton1Click:Connect(function()
	local val = tonumber(Reach.Text)
	if val and val >= 1 and val <= 50 then
		reachValue = val
		print("Reach actualizado a: " .. reachValue)
	else
		warn("Por favor ingresa un número válido entre 1 y 50")
	end
end)

-- Función para detectar cualquier balón
local function checkBallsReach()
	local char = LocalPlayer.Character
	if not char then return end
	local foot = char:FindFirstChild("RightFoot") or char:FindFirstChild("Right Leg") or char:FindFirstChild("RightLowerLeg")
	if not foot then return end

	-- Recorrer todos los objetos en workspace
	for _, obj in pairs(workspace:GetDescendants()) do
		if obj:IsA("BasePart") then
			local nameLower = obj.Name:lower()
			-- Condición para identificar balones (puedes mejorarla si quieres)
			if string.find(nameLower, "ball") or obj.Shape == Enum.PartType.Ball then
				local dist = (foot.Position - obj.Position).Magnitude
				if dist <= reachValue then
					print("Balón detectado a alcance! Nombre: ".. obj.Name .. " Distancia: " .. math.floor(dist))
					-- Aquí activás el toque del balón
					-- Por ejemplo, llamar a una función o evento de toque
				end
			end
		end
	end
end

RunService.Heartbeat:Connect(function()
	checkBallsReach()
end)
