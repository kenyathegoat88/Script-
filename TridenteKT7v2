local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

-- GUI básico
local ScreenGui = Instance.new("ScreenGui", PlayerGui)
ScreenGui.Name = "TridenteKT7_UI"
ScreenGui.ResetOnSpawn = false

local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 300, 0, 150)
Frame.Position = UDim2.new(0.5, -150, 0.5, -75)
Frame.BackgroundColor3 = Color3.fromRGB(245, 245, 245)
Frame.BackgroundTransparency = 0.1
Frame.BorderSizePixel = 0
Instance.new("UICorner", Frame).CornerRadius = UDim.new(0, 10)

-- Título
local Title = Instance.new("TextLabel", Frame)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundTransparency = 1
Title.Text = "Tridente KT7"
Title.Font = Enum.Font.GothamBold
Title.TextSize = 22
Title.TextColor3 = Color3.fromRGB(30, 30, 30)

-- TextBox para tamaño de la hitbox corporal
local SizeBox = Instance.new("TextBox", Frame)
SizeBox.PlaceholderText = "Tamaño de cuerpo (X)"
SizeBox.Position = UDim2.new(0.1, 0, 0, 50)
SizeBox.Size = UDim2.new(0.8, 0, 0, 30)
SizeBox.Font = Enum.Font.Gotham
SizeBox.TextSize = 18
SizeBox.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
SizeBox.TextColor3 = Color3.fromRGB(0, 0, 0)
Instance.new("UICorner", SizeBox).CornerRadius = UDim.new(0, 6)

-- Botón crear hitbox corporal
local CreateBodyHitboxBtn = Instance.new("TextButton", Frame)
CreateBodyHitboxBtn.Text = "Crear Hitbox Cuerpo"
CreateBodyHitboxBtn.Position = UDim2.new(0.1, 0, 0, 90)
CreateBodyHitboxBtn.Size = UDim2.new(0.8, 0, 0, 30)
CreateBodyHitboxBtn.Font = Enum.Font.GothamBold
CreateBodyHitboxBtn.TextSize = 18
CreateBodyHitboxBtn.BackgroundColor3 = Color3.fromRGB(50, 150, 250)
CreateBodyHitboxBtn.TextColor3 = Color3.new(1, 1, 1)
Instance.new("UICorner", CreateBodyHitboxBtn).CornerRadius = UDim.new(0, 6)

-- Variable hitbox cuerpo
local bodyHitbox

-- Función para crear o actualizar hitbox cuerpo
local function createOrUpdateBodyHitbox(sizeValue)
	local char = LocalPlayer.Character
	if not char then return end
	local rootPart = char:FindFirstChild("HumanoidRootPart")
	if not rootPart then
		warn("No se encontró HumanoidRootPart.")
		return
	end

	if bodyHitbox then
		bodyHitbox.Size = Vector3.new(sizeValue, sizeValue * 2, sizeValue)
	else
		bodyHitbox = Instance.new("Part")
		bodyHitbox.Name = "BodyReachHitbox"
		bodyHitbox.Transparency = 0.7
		bodyHitbox.CanCollide = false
		bodyHitbox.Anchored = false
		bodyHitbox.Massless = true
		bodyHitbox.Color = Color3.fromRGB(0, 255, 0)
		bodyHitbox.Material = Enum.Material.ForceField
		bodyHitbox.Parent = char

		-- Weld para seguir rootPart
		local weld = Instance.new("WeldConstraint")
		weld.Part0 = rootPart
		weld.Part1 = bodyHitbox
		weld.Parent = bodyHitbox

		-- Detectar toque con cualquier parte (puedes personalizar)
		bodyHitbox.Touched:Connect(function(hit)
			if hit and hit:IsA("BasePart") then
				local nameLower = hit.Name:lower()
				if string.find(nameLower, "ball") or hit.Shape == Enum.PartType.Ball then
					print("¡Balón tocado con hitbox corporal!")
					-- Lógica para golpear balón acá
				end
			end
		end)
	end

	bodyHitbox.Size = Vector3.new(sizeValue, sizeValue * 2, sizeValue)
	bodyHitbox.CFrame = rootPart.CFrame
end

-- Botón para crear la hitbox corporal
CreateBodyHitboxBtn.MouseButton1Click:Connect(function()
	local val = tonumber(SizeBox.Text)
	if val and val >= 1 and val <= 50 then
		createOrUpdateBodyHitbox(val)
		print("Hitbox corporal aplicada con tamaño: " .. val)
	else
		warn("Ingrese un tamaño válido entre 1 y 50")
	end
end)
